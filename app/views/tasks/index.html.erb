<h1><%= t("page.index_page") %></h1>

<br>
<%= link_to t("action.new"), new_task_path, class: "btn btn-primary"%>

<table class = "table" id = "task_table">
    <tr>
      <th><%= @tasks.human_attribute_name(:title) %></th>
      <th><%= @tasks.human_attribute_name(:content) %></th>
      <th><%= @tasks.human_attribute_name(:start_time) %></th>
      <th><%= sort_link(@q, :end_time) %></th>
      <th><%= @tasks.human_attribute_name(:status) %></th>
      <th><%= sort_link(@q, :priority) %></th>
      <th><%= @tasks.human_attribute_name(:tag) %></th>
      <th><%= sort_link(@q, :created_at) %></th>
      <th><%= t("action.title") %></th>
    </tr>
    <% @tasks.each do |task| %>
    <tr>
        <td><%= task.title %></td>
        <td><%= task.content %></td>
        <td><%= task.start_time.strftime("%Y/%m/%d at %I:%M%p") %></td>
        <td><%= task.end_time.strftime("%Y/%m/%d at %I:%M%p") %></td>
        <td><%= task.status %></td>
        <td><%= t(task.priority, scope: :priority) %></td>
        <td><%= task.tag %></td>
        <td><%= task.created_at.strftime("%Y/%m/%d at %I:%M%p") %></td>
        <td>
          <%= link_to t("action.edit"), edit_task_path(task) %>
          <%= link_to t("action.delete"), task_path(task), method: "delete", data: { turbo_confirm: t("notice.confirm"), turbo_method: "delete" } %>
        </td>
    </tr>
    <% end %>
</table>
